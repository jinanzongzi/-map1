<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>寻找小知</title>
</head>
<body>
    <script src="js/pixi.min.js"></script>
    <script>
    	
		var app = new PIXI.Application(1080,810);
        document.body.appendChild(app.view);
        
        var a = 0;
		var b = 0;
        
        //添加背景图片
        var bg=new PIXI.Sprite.fromImage("res/map11.jpg");
        app.stage.addChild(bg);
        bg.scale.x = 0.3;
        bg.scale.y = 0.3;
        
        //添加建筑1
   		var firstBuilding = new PIXI.Sprite.fromImage("res/3.png");
   		app.stage.addChild(firstBuilding);
   		firstBuilding.x = 0;
   		firstBuilding.y = 100;
   		firstBuilding.scale.x = 0.3;
   		firstBuilding.scale.y = 0.3;
   		
        //添加大桥图片
        var bridge = new PIXI.Sprite.fromImage("res/1.png");
        app.stage.addChild(bridge);
        bridge.scale.x = 0.3;
        bridge.scale.y = 0.3;
        
        //添加建筑2 玉米楼
        var secondBuilding = new PIXI.Sprite.fromImage("res/2.png");
        app.stage.addChild(secondBuilding);
        secondBuilding.x = 420;
        secondBuilding.y = 134;
        secondBuilding.scale.x = 0.3;
        secondBuilding.scale.y = 0.3;
        
        //添加小人1 舞龙
        var personOneList=[];
        personOneList.push("res/人01.png");
        personOneList.push("res/人02.png")
        var personOne = new PIXI.extras.AnimatedSprite.fromImages(personOneList);
        personOne.play();
        personOne.animationSpeed = 0.02;
        app.stage.addChild(personOne);
        personOne.x = 400;
        personOne.y = 600;  
        personOne.scale.x = 0.3;
        personOne.scale.y = 0.3;
        
        //添加小人2 敲锣  
        var personTwo = new PIXI.Sprite.fromImage("res/人04.png");
        app.stage.addChild(personTwo);
        personTwo.x = 770;
        personTwo.y = 250;
        personTwo.scale.x = 0.3;
        personTwo.scale.y = 0.3;
        
        //添加小人3 击鼓
        var personThreeList=[];
        personThreeList.push("res/人05.png");
        personThreeList.push("res/人06.png")
        var personThree = new PIXI.extras.AnimatedSprite.fromImages(personThreeList);
        personThree.play();
        personThree.animationSpeed = 0.01;
        app.stage.addChild(personThree);
        personThree.x = 670;
        personThree.y = 370;
        personThree.scale.x = 0.3;
        personThree.scale.y = 0.3;
        
        //添加小人4 大镲
        var personFour = new PIXI.Sprite.fromImage("res/小知03.png");
        app.stage.addChild(personFour);
        personFour.x = 810;
        personFour.y = 400;
        personFour.scale.x = 0.3;
        personFour.scale.y = 0.3;
        personFour.interactive = true;
        personFour.on("touchstart",xiaozhi2);
        personFour.on("click",xiaozhi2);
        
        //添加小人5 舞龙龙头
	var m = 0
        var personFive = new PIXI.Sprite.fromImage("res/小知01.png");
	    personFive.visible = true;
	var person6 = new PIXI.Sprite.fromImage("res/小知02.png");
	    person6.visible = false;
	app.add.ticker(animate);
	
        app.stage.addChild(person6)
        app.stage.addChild(personFive);
        personFive.x = 67;
        personFive.y = 610;
        personFive.scale.x = 0.3;
        personFive.scale.y = 0.3;
        personFive.interactive = true;
        personFive.on("touchstart",xiaozhi1);
        personFive.on("click",xiaozhi1);
	    personFive.x = 67;
        person6.y = 610;
        person6.scale.x = 0.3;
        person6.scale.y = 0.3;
        person6.interactive = true;
        person6.on("touchstart",xiaozhi1);
        person6.on("click",xiaozhi1);
	    

        
        //添加小知栏1
        var know1 = new PIXI.Sprite.fromImage("res/小知栏01.png");
        app.stage.addChild(know1);
	    know1.visible = true;
        know1.x = 0;
        know1.y = 0;
        know1.scale.x = 0.3;
        know1.scale.y = 0.3;
        
        //添加小知栏2
        var know2 = new PIXI.Sprite.fromImage("res/小知栏02.png");
        app.stage.addChild(know2);
        know2.visible = false;
        know2.x = 0;
        know2.y = 0;
        know2.scale.x = 0.3;
        know2.scale.y = 0.3;
        
        //添加小知栏3
        var know3 = new PIXI.Sprite.fromImage("res/小知栏03.png");
        app.stage.addChild(know3);
        know3.visible = false;
        know3.x = 0;
        know3.y = 0;
        know3.scale.x = 0.3;
        know3.scale.y = 0.3;
        
        //添加小知栏4
        var know4 = new PIXI.Sprite.fromImage("res/小知栏04.png");
        app.stage.addChild(know4);
        know4.visible = false;
        know4.x = 0;
        know4.y = 0;
        know4.scale.x = 0.3;
        know4.scale.y = 0.3;
        
        function xiaozhi1(){
        	if(b&&!a)
        	{
        		know1.visible = false;
        		know2.visible = false;
        		know3.visible = false;
        		know4.visible = true;
        	}
        	else
        	{
        		know1.visible = false;
        		know2.visible = false;
        		know4.visible = false;
        		know3.visible = true;
        		a = 1;
        	}
        }
        
        function xiaozhi2(){
        	if(a&&!b)
        	{
        		know1.visible = false;
        		know2.visible = false;
        		know3.visible = false;
        		know4.visible = true;
        	}
        	else
        	{
        		know1.visible = false;
        		know3.visible = false;
        		know4.visible = false;
        		know2.visible = true;
        		b = 1;
        	}
        }
	    function animate(){
		if(m == 30){
        	personFive.visible = false;
			person6.visible = true;
		}
		if(m == 60){
			person6.visible = false;
			personFive.visible = true;
			m = 0;
		}
		m++;
        }
        
        
//       //添加小人2点击判断
//      var twoIsPick = false;
//      personTwo.interactive = true;
//      personTwo.on("click",pickTwo);
//      personTwo.on("touchstart",pickTwo);
        
//      //添加小人2介绍 一开始隐藏
//      var personTwoIntroduction = new PIXI.Sprite.fromImage("res/图2.png");
//      app.stage.addChild(personTwoIntroduction);
//      personTwoIntroduction.interactive = true;
//      personTwoIntroduction.visible = false;
//      personTwoIntroduction.anchor.set(0.5,0.5);
//      personTwoIntroduction.on("mousemove",move);
//      personTwoIntroduction.on("touchmove",move);
//      personTwoIntroduction.on("click",stopTwo);
//      personTwoIntroduction.on("touchend",stopTwo);
//      
        
        
        
        
    </script>
</body>
</html>
